this is a ai exercise for csp.
this code is not the most optimized code but it has the core optimization methods in it.